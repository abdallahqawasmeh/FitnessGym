@model MyGymSystem.Join.PlansVM

@{
    Layout = "~/Views/Shared/_Layout.cshtml";

    // ✅ CMS row (id=1) + list of plans
    var page = Model?.Page;
}

<!-- ✅ Dynamic Page Header (same design, only source changed) -->
<section class="py-5">
    <div class="container">
        <div class="row align-items-center gy-4">

            <!-- Text -->
            <div class="col-lg-6">
                <h1 class="fw-bold mb-2">
                    @(!string.IsNullOrWhiteSpace(page?.PageTitle) ? page!.PageTitle : "Membership Plans")
                </h1>

                <p class="text-muted mb-0">
                    @(!string.IsNullOrWhiteSpace(page?.IntroText)
                        ? page!.IntroText
                        : "Choose a plan that fits your goal. Upgrade anytime and start your journey today.")
                </p>
            </div>

            <!-- Banner -->
            <div class="col-lg-6 text-center">
                <img src="@Url.Content(!string.IsNullOrWhiteSpace(page?.Bannerimagepath) ? $"~/Images/{page!.Bannerimagepath}" : "~/Images/default.jpg")"
                     class="img-fluid rounded shadow-sm"
                     style="max-height:320px; object-fit:cover; width:100%;"
                     alt="Plans Banner" />
            </div>

        </div>
    </div>
</section>


<!-- ✅ Your existing plans UI (UNCHANGED) -->
<div class="plans-container">

    <!-- From Uiverse.io by Yaya12085 -->
    @foreach (var item in Model.Plans)
    {
        <div class="plan">

            <div class="plan">
                <div class="inner">
                    <span class="pricing">
                        <span>
                            @item.Price <small>/ m</small>
                        </span>
                    </span>
                    <p class="title">@item.Planname</p>
                    <p class="info">@item.Description</p>
                    <ul class="features">
                        <li>
                            <span class="icon">
                                <svg height="24" width="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M0 0h24v24H0z" fill="none"></path>
                                    <path fill="currentColor" d="M10 15.172l9.192-9.193 1.415 1.414L10 18l-6.364-6.364 1.414-1.414z"></path>
                                </svg>
                            </span>
                            <span>@item.Description1</span>
                        </li>
                        <li>
                            <span class="icon">
                                <svg height="24" width="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M0 0h24v24H0z" fill="none"></path>
                                    <path fill="currentColor" d="M10 15.172l9.192-9.193 1.415 1.414L10 18l-6.364-6.364 1.414-1.414z"></path>
                                </svg>
                            </span>
                            <span>@item.Description2</span>
                        </li>
                        <li>
                            <span class="icon">
                                <svg height="24" width="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M0 0h24v24H0z" fill="none"></path>
                                    <path fill="currentColor" d="M10 15.172l9.192-9.193 1.415 1.414L10 18l-6.364-6.364 1.414-1.414z"></path>
                                </svg>
                            </span>
                            <span>@item.Description3</span>
                        </li>
                    </ul>
                    <div class="action">
                        @if (item.Plantype != "Personal")
                        {
                            <a class="button" asp-action="pay" asp-controller="Payment" asp-route-planid="@item.Planid">
                                Choose plan
                            </a>
                        }
                        else
                        {
                            <a class="button" asp-action="Subscribe" asp-controller="Subscriptions" asp-route-planid="@item.Planid">
                                Go Private
                            </a>
                        }
                    </div>
                </div>
            </div>

        </div>
    }

</div>
